server:
  port: 8087

spring:
  application:
    name: notification-service
  mail:
    host: ${SMTP_HOST:}
    port: ${SMTP_PORT:587}
    username: ${SMTP_USERNAME:}
    password: ${SMTP_PASSWORD:}
    properties:
      mail.smtp.auth: ${SMTP_AUTH:true}
      mail.smtp.starttls.enable: ${SMTP_STARTTLS:true}
  kafka:
    bootstrap-servers: localhost:9092
    consumer:
      group-id: notification-service
      auto-offset-reset: earliest
      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer
      value-deserializer: org.springframework.kafka.support.serializer.JsonDeserializer
    properties:
      spring.json.trusted.packages: org.example.megasegashop.notification.event
      spring.json.value.default.type: org.example.megasegashop.notification.event.OrderPlacedEvent

notification:
  email:
    enabled: ${NOTIFICATION_EMAIL_ENABLED:false}
    from: ${NOTIFICATION_EMAIL_FROM:no-reply@megasega.local}
    subject-template: ${NOTIFICATION_EMAIL_SUBJECT_TEMPLATE:Your MegaSega order %s is placed}
  webhook:
    enabled: ${NOTIFICATION_WEBHOOK_ENABLED:false}
    url: ${NOTIFICATION_WEBHOOK_URL:}
    secret: ${NOTIFICATION_WEBHOOK_SECRET:}
  sms:
    enabled: ${NOTIFICATION_SMS_ENABLED:false}
    url: ${NOTIFICATION_SMS_URL:}
    api-key: ${NOTIFICATION_SMS_API_KEY:}
    api-key-header: ${NOTIFICATION_SMS_API_KEY_HEADER:Authorization}
    api-key-prefix: ${NOTIFICATION_SMS_API_KEY_PREFIX:Bearer}
    from: ${NOTIFICATION_SMS_FROM:MegaSega}
    default-recipient: ${NOTIFICATION_SMS_DEFAULT_RECIPIENT:}

eureka:
  client:
    service-url:
      defaultZone: http://localhost:8761/eureka/

management:
  endpoints:
    web:
      exposure:
        include: health,info,prometheus
  endpoint:
    health:
      probes:
        enabled: true
