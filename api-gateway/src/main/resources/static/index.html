<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>MegaSegaShop</title>
    <meta name="description" content="MegaSegaShop storefront powered by microservices." />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@300;400;500;600&family=JetBrains+Mono:wght@500&family=Space+Grotesk:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/assets/styles.css" />
  </head>
  <body>
    <div class="page">
      <header class="site-header">
        <div class="brand">
          <div class="brand-mark">MS</div>
          <div>
            <div class="brand-title">MegaSegaShop</div>
            <div class="brand-subtitle">Arcade grade gear, curated and ready.</div>
          </div>
        </div>
        <nav class="nav">
          <a href="#catalog">Catalog</a>
          <a href="#account">Account</a>
          <a href="#cart">Cart</a>
          <a href="#checkout">Checkout</a>
          <a href="#orders">Orders</a>
          <a href="#admin">Admin</a>
          <a href="#ops">Ops</a>
        </nav>
        <div class="header-actions">
          <div class="cart-pill">Cart <span id="cartCount">0</span></div>
          <a class="cta-button" href="#catalog">Browse now</a>
        </div>
      </header>

      <main>
        <section class="hero" id="story">
          <div class="hero-copy">
            <div class="pill">Live: product-service sync</div>
            <h1>Retro power, modern reliability.</h1>
            <p>
              MegaSegaShop is a fast lane to iconic hardware and games. Every item
              is streamed from a live catalog, priced in real time, and delivered
              with arcade precision.
            </p>
            <div class="hero-actions">
              <a class="primary" href="#catalog">Explore catalog</a>
              <a class="ghost" href="/actuator/health">System health</a>
            </div>
            <div class="hero-stats">
              <div>
                <span>9</span>
                <small>microservices</small>
              </div>
              <div>
                <span>6</span>
                <small>live databases</small>
              </div>
              <div>
                <span>24/7</span>
                <small>inventory sync</small>
              </div>
            </div>
          </div>
          <div class="hero-panel">
            <div class="panel-card">
              <div class="panel-title">Featured bundle</div>
              <div class="panel-name">MegaSega Classic</div>
              <div class="panel-detail">Retro console + wired pad</div>
              <div class="panel-price">$129.99</div>
              <div class="panel-tag">Ships in 48h</div>
            </div>
            <div class="panel-card highlight">
              <div class="panel-title">What is live?</div>
              <p>
                This UI is served by the API gateway and pulls product data straight
                from product-service. No mock data, no shortcuts.
              </p>
            </div>
          </div>
        </section>

        <section class="catalog" id="catalog">
          <div class="section-head">
            <div>
              <h2>Catalog</h2>
              <p>Filter by category or brand to shape the lineup.</p>
            </div>
            <div class="filters">
              <label class="filter">
                Category
                <select id="categoryFilter">
                  <option value="">All categories</option>
                </select>
              </label>
              <label class="filter">
                Brand
                <select id="brandFilter">
                  <option value="">All brands</option>
                </select>
              </label>
            </div>
          </div>

          <div class="catalog-meta">
            <div id="catalogCount">Loading products...</div>
            <div class="catalog-actions">
              <div id="catalogStatus" class="status-pill">Contacting product-service</div>
              <button id="catalogReloadButton" class="button ghost small" type="button">Retry</button>
            </div>
          </div>

          <div id="productGrid" class="product-grid loading">
            <article class="product-card skeleton">
              <div class="skeleton-line"></div>
              <div class="skeleton-line wide"></div>
              <div class="skeleton-line"></div>
            </article>
            <article class="product-card skeleton">
              <div class="skeleton-line"></div>
              <div class="skeleton-line wide"></div>
              <div class="skeleton-line"></div>
            </article>
            <article class="product-card skeleton">
              <div class="skeleton-line"></div>
              <div class="skeleton-line wide"></div>
              <div class="skeleton-line"></div>
            </article>
            <article class="product-card skeleton">
              <div class="skeleton-line"></div>
              <div class="skeleton-line wide"></div>
              <div class="skeleton-line"></div>
            </article>
          </div>
        </section>

        <section class="account" id="account">
          <div class="section-head">
            <div>
              <h2>Account access</h2>
              <p>Register or sign in to unlock cart and checkout actions.</p>
            </div>
            <div class="auth-switch">
              <button class="tab active" data-mode="login" type="button">Login</button>
              <button class="tab" data-mode="register" type="button">Register</button>
            </div>
          </div>
          <div class="section-grid">
            <div class="card">
              <form id="loginForm" class="form-grid">
                <h3>Sign in</h3>
                <label class="field">
                  Email
                  <input id="loginEmail" type="email" required />
                </label>
                <label class="field">
                  Password
                  <input id="loginPassword" type="password" required />
                </label>
                <button class="button primary" type="submit">Login</button>
              </form>

              <form id="registerForm" class="form-grid hidden">
                <h3>Create account</h3>
                <div class="two-col">
                  <label class="field">
                    First name
                    <input id="registerFirstName" type="text" required />
                  </label>
                  <label class="field">
                    Last name
                    <input id="registerLastName" type="text" required />
                  </label>
                </div>
                <label class="field">
                  Email
                  <input id="registerEmail" type="email" required />
                </label>
                <label class="field">
                  Phone (optional)
                  <input id="registerPhone" type="tel" placeholder="+1 555 555 0123" />
                </label>
                <label class="field">
                  Password
                  <input id="registerPassword" type="password" required />
                </label>
                <button class="button primary" type="submit">Register</button>
              </form>
              <div id="authMessage" class="message"></div>
            </div>

            <div class="card">
              <div class="card-header">
                <h3>Session</h3>
                <button id="signOutButton" class="button ghost" type="button">Sign out</button>
              </div>
              <div class="session-grid">
                <div>
                  <span>Status</span>
                  <strong id="sessionStatus">Signed out</strong>
                </div>
                <div>
                  <span>User ID</span>
                  <strong id="sessionUserId">-</strong>
                </div>
                <div>
                  <span>Profile ID</span>
                  <strong id="sessionProfileId">-</strong>
                </div>
                <div>
                  <span>Email</span>
                  <strong id="sessionEmail">-</strong>
                </div>
                <div>
                  <span>Phone</span>
                  <strong id="sessionPhone">-</strong>
                </div>
              </div>
              <div class="card-actions">
                <button id="refreshProfileButton" class="button secondary" type="button">Refresh profile</button>
              </div>
              <div id="profileInfo" class="message"></div>
            </div>

            <div class="card">
              <form id="profileForm" class="form-grid">
                <h3>Profile editor</h3>
                <div class="two-col">
                  <label class="field">
                    First name
                    <input id="profileFirstName" type="text" />
                  </label>
                  <label class="field">
                    Last name
                    <input id="profileLastName" type="text" />
                  </label>
                </div>
                <label class="field">
                  Phone
                  <input id="profilePhone" type="tel" placeholder="+1 555 555 0123" />
                </label>
                <div class="inline-actions">
                  <button class="button secondary" type="submit">Save profile</button>
                  <button id="profileFillButton" class="button ghost" type="button">Load current profile</button>
                </div>
              </form>
              <div id="profileUpdateMessage" class="message"></div>
            </div>
          </div>
        </section>

        <section class="cart" id="cart">
          <div class="section-head">
            <div>
              <h2>Cart</h2>
              <p>Live cart powered by cart-service and product-service.</p>
            </div>
            <div class="inline-actions">
              <button id="cartRefreshButton" class="button secondary" type="button">Refresh</button>
              <button id="cartClearButton" class="button ghost" type="button">Clear cart</button>
            </div>
          </div>
          <div class="section-grid cart-grid">
            <div class="card">
              <div id="cartItems" class="list">Sign in to see your cart.</div>
              <div id="cartMessage" class="message"></div>
            </div>
            <div class="card summary">
              <h3>Summary</h3>
              <div class="summary-row">
                <span>Total</span>
                <strong id="cartTotal">$0.00</strong>
              </div>
              <a class="button primary" href="#checkout">Proceed to checkout</a>
            </div>
          </div>
        </section>

        <section class="checkout" id="checkout">
          <div class="section-head">
            <div>
              <h2>Checkout</h2>
              <p>Place an order and reserve inventory in real time.</p>
            </div>
          </div>
          <div class="section-grid checkout-grid">
            <div class="card">
              <form id="orderForm" class="form-grid">
                <h3>Billing and contact</h3>
                <label class="field">
                  Email
                  <input id="orderEmail" type="email" required />
                </label>
                <div class="payment-grid">
                  <label class="field">
                    Card number
                    <input id="cardNumber" type="text" placeholder="4242 4242 4242 4242" />
                  </label>
                  <label class="field">
                    Name on card
                    <input id="cardName" type="text" placeholder="A. Player" />
                  </label>
                  <label class="field">
                    Expiry
                    <input id="cardExpiry" type="text" placeholder="08/28" />
                  </label>
                  <label class="field">
                    CVC
                    <input id="cardCvc" type="text" placeholder="123" />
                  </label>
                </div>
                <div class="inline-actions">
                  <button id="useTestCardButton" class="button ghost" type="button">Use test card</button>
                  <button id="useDeclineCardButton" class="button ghost" type="button">Use decline card</button>
                </div>
                <button class="button primary" type="submit">Pay and place order</button>
              </form>
              <div id="paymentMessage" class="message"></div>
              <div id="orderMessage" class="message"></div>
            </div>
            <div class="card">
              <h3>Order tracking</h3>
              <div class="form-grid">
                <label class="field">
                  Order ID
                  <input id="orderTrackId" type="number" min="1" />
                </label>
                <button id="orderTrackButton" class="button secondary" type="button">Track order</button>
              </div>
              <div id="orderResult" class="message"></div>
            </div>
          </div>
        </section>

        <section class="orders" id="orders">
          <div class="section-head">
            <div>
              <h2>Order desk</h2>
              <p>Track, update, and cancel orders without leaving the UI.</p>
            </div>
            <div class="inline-actions">
              <button id="orderListButton" class="button secondary" type="button">Load my orders</button>
            </div>
          </div>
          <div class="section-grid order-grid">
            <div class="card">
              <h3>My orders</h3>
              <div id="orderList" class="list">Sign in to view orders.</div>
              <div id="orderListMessage" class="message"></div>
            </div>
            <div class="card">
              <h3>Manage order</h3>
              <div class="form-grid">
                <label class="field">
                  Order ID
                  <input id="orderManageId" type="number" min="1" />
                </label>
                <label class="field">
                  Next status
                  <select id="orderStatusSelect">
                    <option value="PROCESSING">PROCESSING</option>
                    <option value="SHIPPED">SHIPPED</option>
                    <option value="DELIVERED">DELIVERED</option>
                    <option value="CANCELLED">CANCELLED</option>
                  </select>
                </label>
                <div class="inline-actions">
                  <button id="orderStatusButton" class="button secondary" type="button">Update status</button>
                  <button id="orderCancelButton" class="button danger" type="button">Cancel order</button>
                </div>
              </div>
              <div id="orderManageMessage" class="message"></div>
            </div>
          </div>
        </section>

        <section class="admin" id="admin">
          <div class="section-head">
            <div>
              <h2>Catalog ops</h2>
              <p>Add new products directly into product-service.</p>
            </div>
          </div>
          <div class="section-grid">
            <div class="card">
              <form id="productForm" class="form-grid">
                <h3>Create product</h3>
                <label class="field">
                  Name
                  <input id="productName" type="text" required />
                </label>
                <div class="two-col">
                  <label class="field">
                    Brand
                    <input id="productBrand" type="text" required />
                  </label>
                  <label class="field">
                    Category
                    <input id="productCategory" type="text" required />
                  </label>
                </div>
                <label class="field">
                  Description
                  <textarea id="productDescription" rows="3" required></textarea>
                </label>
                <div class="two-col">
                  <label class="field">
                    Price
                    <input id="productPrice" type="number" step="0.01" required />
                  </label>
                  <label class="field">
                    Initial stock
                    <input id="productInitialQuantity" type="number" min="0" required />
                  </label>
                </div>
                <button class="button primary" type="submit">Publish product</button>
              </form>
              <div id="productMessage" class="message"></div>
            </div>
            <div class="card">
              <h3>Inventory lookup</h3>
              <div class="form-grid">
                <label class="field">
                  Product ID
                  <input id="inventoryProductId" type="number" min="1" />
                </label>
                <button id="inventoryCheckButton" class="button secondary" type="button">Check inventory</button>
              </div>
              <div id="inventoryMessage" class="message"></div>
            </div>

            <div class="card">
              <form id="productEditForm" class="form-grid">
                <h3>Update product</h3>
                <label class="field">
                  Product ID
                  <input id="productEditId" type="number" min="1" required />
                </label>
                <button id="productLoadButton" class="button ghost" type="button">Load product</button>
                <label class="field">
                  Name
                  <input id="productEditName" type="text" required />
                </label>
                <div class="two-col">
                  <label class="field">
                    Brand
                    <input id="productEditBrand" type="text" required />
                  </label>
                  <label class="field">
                    Category
                    <input id="productEditCategory" type="text" required />
                  </label>
                </div>
                <label class="field">
                  Description
                  <textarea id="productEditDescription" rows="3" required></textarea>
                </label>
                <div class="two-col">
                  <label class="field">
                    Price
                    <input id="productEditPrice" type="number" step="0.01" required />
                  </label>
                  <label class="field">
                    Inventory delta
                    <input id="productEditDelta" type="number" step="1" />
                  </label>
                </div>
                <div class="inline-actions">
                  <button class="button secondary" type="submit">Save changes</button>
                  <button id="productDeleteButton" class="button danger" type="button">Delete product</button>
                </div>
              </form>
              <div id="productEditMessage" class="message"></div>
            </div>
          </div>
        </section>

        <section class="ops" id="ops">
          <div class="ops-layout">
            <div class="ops-card">
              <div class="ops-title">Architecture pulse</div>
              <p>
                API gateway routes to dedicated microservices for auth, users,
                products, cart, inventory, orders, and notifications. Redis speeds
                up catalog reads. Kafka keeps inventory in sync.
              </p>
              <div class="ops-grid">
                <div>
                  <span>Config Server</span>
                  Centralized settings and profile control.
                </div>
                <div>
                  <span>Eureka</span>
                  Service discovery with live registry.
                </div>
                <div>
                  <span>Kafka</span>
                  Event stream for inventory updates.
                </div>
              </div>
            </div>

            <div class="ops-panel">
              <div class="ops-title">Flow runner</div>
              <p>Trigger common test flows with single-click actions.</p>
              <div class="ops-actions">
                <button id="flowSeedButton" class="button primary" type="button">Seed demo product</button>
                <button id="flowAddButton" class="button secondary" type="button">Add featured to cart</button>
                <button id="flowCheckoutButton" class="button ghost" type="button">Checkout cart</button>
                <button id="flowClearButton" class="button ghost" type="button">Clear cart</button>
                <button id="flowReloadButton" class="button ghost" type="button">Reload catalog</button>
              </div>
              <div class="activity">
                <div class="activity-title">Activity log</div>
                <div id="activityLog" class="activity-log"></div>
              </div>
            </div>
          </div>
        </section>
      </main>

      <footer class="site-footer">
        <div>MegaSegaShop</div>
        <div class="footer-meta">Gateway UI powered by product-service.</div>
      </footer>
    </div>

    <script src="/assets/app.js" defer></script>
  </body>
</html>
